@{
    ViewData["Title"] = "All Products";
}
@model SDP.ViewModels.Catalog
<!-- ============================================== Product Display ====================================================== -->

<section id="section-product-list">
    <div class="container product_con">
        <h2>@ViewData["Title"]</h2>
        <div class="sort">
            <select class="sdp-style" onchange="sortBy(this);">
                <option>View By</option>
                <option value="priceL-H">Price: Highest to Lowest</option>
                <option value="priceH-L">Price: Lowest to Highest</option>
                <option value="nameA-Z">Product Name: A - Z</option>
                <option value="nameZ-A">Product Name: Z - A</option>
            </select>
        </div>

        @using (Html.BeginForm("ProductDisplay", "Product"))
        {
            <div class="row rowone flex-box" id="product-list"></div>
        }

        @* These may be better displayed as links? Buttons currently do not indicate current page. *@
        @using (Html.BeginForm("Index", "Product"))
        {
            <div class="page-numbers">
                @for (int i = 0; i < Model.totalPage; i++)
                {
                    int pageNum = i + 1;
                    <button class="sdp-style" type="submit" name="pageNumber" value=@i> @pageNum </button>
                }
                <button id="btn_prev" class="sdp-style">prev</button> <button id="btn_next" class="sdp-style">next</button>
            </div>
        }
    </div>
</section>

<aside>
    <div id="filter" style="position:absolute; top :280px; margin-left:50px">
        <h4> <strong> Add filters</strong></h4>
        <table>
            @foreach (var brand in Model.brands)
            {
                <tr>
                    <td style="padding:7px"><label><input type="checkbox" name="brand" id="@brand.title" value="@brand.title" /> @brand.title </label></td>
                </tr>
            }
        </table>
        <br />
        <button class="sdp-style" type="button" onclick="reDisplay()" style="margin-top:30px">Apply filter</button>
    </div>
</aside>

<div class="container">
    <section id="section-recommended">
        <h3>Recommended Fragrances</h3>
    </section>
</div>


<script>
    var productDbJson = @Html.Raw(Json.Serialize(Model.products.ToList()));
</script>


<script src="~/js/sort.js" asp-append-version="true"></script>
@*<script src="~/js/pagination.js" asp-append-version="true"></script>*@


